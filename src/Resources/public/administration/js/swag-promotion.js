(this.webpackJsonp=this.webpackJsonp||[]).push([["swag-promotion"],{"1JIR":function(t,o){t.exports='{% block swag_promotion_detail %}\n<sw-page class="swag-promotion-detail">\n    <template slot="smart-bar-actions">\n        <sw-button :routerLink="{ name: \'swag.promotion.list\' }">\n            {{ $t(\'swag-promotion.detail.cancelButtonText\') }}\n        </sw-button>\n\n        <sw-button-process\n            :isLoading="isLoading"\n            :processSuccess="processSuccess"\n            variant="primary"\n            @process-finish="saveFinish"\n            @click="onClickSave">\n            {{ $t(\'swag-promotion.detail.saveButtonText\') }}\n        </sw-button-process>\n    </template>\n\n    <template slot="content">\n        <sw-card-view>\n            <sw-card v-if="promotion" :isLoading="isLoading">\n                <sw-field :label="$t(\'swag-promotion.detail.nameLabel\')" v-model="promotion.name" type="string"></sw-field>\n                <sw-field :label="$t(\'swag-promotion.detail.discountLabel\')" v-model="promotion.discountRate" type="number"></sw-field>\n                <sw-field :label="$t(\'swag-promotion.detail.startDateLabel\')" v-model="promotion.startDate" type="date"></sw-field>\n                <sw-field :label="$t(\'swag-promotion.detail.expiredDateLabel\')" v-model="promotion.expiredDate" type="date"></sw-field>\n\n                <sw-entity-single-select\n                    :label="$t(\'swag-promotion.detail.assignProductsLabel\')"\n                    v-model="promotion.productId"\n                    entity="product">\n                </sw-entity-single-select>\n            </sw-card>\n        </sw-card-view>\n    </template>\n</sw-page>\n{% endblock %}\n'},AbEl:function(t,o,e){"use strict";e.r(o);var i=e("aq0b"),n=e.n(i);const{Component:s}=Shopware,{Criteria:a}=Shopware.Data;s.register("swag-promotion-list",{template:n.a,inject:["repositoryFactory"],data:()=>({repository:null,promotions:null}),metaInfo(){return{title:this.$createTitle()}},computed:{columns(){return[{property:"name",dataIndex:"name",label:this.$t("swag-promotion.list.columnName"),routerLink:"swag.promotion.detail",inlineEdit:"string",allowResize:!0,primary:!0},{property:"discountRate",dataIndex:"discountRate",label:this.$t("swag-promotion.list.columnDiscount"),inlineEdit:"number",allowResize:!0},{property:"startDate",dataIndex:"startDate",label:this.$t("swag-promotion.list.columnStartDate"),allowResize:!0},{property:"expiredDate",dataIndex:"expiredDate",label:this.$t("swag-promotion.list.columnExpiredDate"),allowResize:!0}]}},created(){this.repository=this.repositoryFactory.create("swag_promotion"),this.repository.search(new a,Shopware.Context.api).then(t=>{this.promotions=t})}});var r=e("1JIR"),p=e.n(r);const{Component:l,Mixin:c}=Shopware,{Criteria:m}=Shopware.Data;l.register("swag-promotion-detail",{template:p.a,inject:["repositoryFactory"],mixins:[c.getByName("notification")],metaInfo(){return{title:this.$createTitle()}},data:()=>({promotion:null,isLoading:!1,processSuccess:!1,repository:null}),computed:{options:()=>[{value:"absolute",name:"absolute"},{value:"percentage",name:"percentage"}]},created(){this.repository=this.repositoryFactory.create("swag_promotion"),this.getPromotion()},methods:{getPromotion(){this.repository.get(this.$route.params.id,Shopware.Context.api).then(t=>{this.promotion=t})},onClickSave(){this.isLoading=!0,this.processSuccess=!0,this.repository.save(this.promotion,Shopware.Context.api).then(()=>{this.getPromotion(),this.isLoading=!1,this.createNotificationSuccess({title:"Success",message:"Update promotion success !"})}).catch(t=>{this.isLoading=!1,this.createNotificationError({title:this.$t("swag-promotion.detail.errorTitle"),message:t})})},saveFinish(){this.processSuccess=!1}}});e("simN");const{Module:d}=Shopware;d.register("swag-promotion",{type:"plugin",name:"Promotion",title:"Promotion",description:"Promotion of product",color:"#09b6ff",icon:"default-action-bulk-edit",navigation:[{label:"Promotion",color:"#09b6ff",path:"swag.promotion.list",icon:"default-action-bulk-edit",position:99}],routes:{list:{component:"swag-promotion-list",path:"list"},detail:{component:"swag-promotion-detail",path:"detail/:id",meta:{parentPath:"swag.promotion.list"}},create:{component:"swag-promotion-create",path:"create",meta:{parentPath:"swag.promotion.list"}}}})},aq0b:function(t,o){t.exports='{% block swag_promotion_list %}\n<sw-page class="swag-promotion-list">\n    {% block swag_promotion_list_smart_bar_actions %}\n    <template slot="smart-bar-actions">\n        <sw-button variant="primary" :routerLink="{ name: \'swag.promotion.create\' }">\n            {{ $t(\'swag-promotion.list.addButtonText\') }}\n        </sw-button>\n    </template>\n    {% endblock %}\n\n    <template slot="content">\n        {% block swag_promotion_list_content %}\n        <sw-entity-listing\n            v-if="promotions"\n            :items="promotions"\n            :repository="repository"\n            :showSelection="false"\n            :columns="columns"\n            detailRoute="swag.promotion.detail">\n        </sw-entity-listing>\n        {% endblock %}\n    </template>\n</sw-page>\n{% endblock %}\n'},simN:function(t,o){const{Component:e}=Shopware;e.extend("swag-promotion-create","swag-promotion-detail",{methods:{getPromotion(){this.promotion=this.repository.create(Shopware.Context.api)},onClickSave(){this.isLoading=!0,this.repository.save(this.promotion,Shopware.Context.api).then(()=>{this.isLoading=!1,this.$router.push({name:"swag.promotion.detail",params:{id:this.promotion.id}}),this.createNotificationSuccess({title:"Success",message:"Create promotion success !"})}).catch(t=>{this.isLoading=!1,this.createNotificationError({title:this.$t("swag-promotion.detail.errorTitle"),message:t})})}}})}},[["AbEl","runtime"]]]);